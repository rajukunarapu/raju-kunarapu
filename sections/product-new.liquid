<section class="featured-collection">
  <div class="container">
    <h2>Tisso vision in the wild</h2>
    <div class="grid">
      {% for product in collections['all'].products limit:6 %}
        <div class="product" onclick="openModal('{{ product.featured_image | img_url }}', '{{ product.title }}', '{{ product.price }}','{{ product.description }}')">
          <img src="{{ product.featured_image | img_url }}" alt="{{ product.title }}">
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Product Modal -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div id="product-image" >
      <img id="modalImage" src="" alt="">
    </div>
    <div id="product-content" >
      <h2 id="modalTitle"></h2>
      <p id="modalPrice"></p>
      <p id="modalDescription"></p>
    </div>
    <div id="product-color" >
      <label>Color:</label>
      <button class="color-option">Blue</button>
      <button class="color-option">Black</button>
    </div>
    
    <div id="product-size" >
      <label>Size:</label>
      <select>
        <option>Choose your size</option>
        <option>S</option>
        <option>M</option>
        <option>L</option>
        <option>XL</option>
      </select>
    </div>
    
    <button class="add-to-cart">ADD TO CART â†’</button>
  </div>
</div>

{% style %}
.featured-collection {
  padding: 50px 30px;
  text-align: center;
}

.container h2{
  text-align : start;
  font-weight : normal;
}

.grid {
  margin-top : 20px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.product img {
  width: 100%;
  height: 440px;
  object-fit: cover;
  cursor: pointer;
}

/* Modal Styles */
.modal {
  display: none;
  position: fixed;
  z-index: 100;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background: white;
  padding: 20px;
  height : 447px;
  width: 311px;
  margin: 10% auto;
  text-align: center;
  border-radius: 8px;
}

.modal-content h2{
}

.close {
  position: relative;
  right : 10px;
  font-size: 40px;
  cursor: pointer;
}

.color-option, .add-to-cart {
  margin-top: 10px;
  padding: 10px 15px;
  cursor: pointer;
}
{% endstyle %}

<script>
function openModal(image, title, price, description) {
  document.getElementById("modalImage").src = image;
  document.getElementById("modalTitle").textContent = title;
  document.getElementById("modalPrice").textContent = price;
  document.getElementById("modalDescription").textContent = description;
  document.getElementById("productModal").style.display = "block";
}

function closeModal() {
  document.getElementById("productModal").style.display = "none";
}
</script>
