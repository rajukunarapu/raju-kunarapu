{% schema %}
{
  "name": "Featured Collection",
  "settings": []
}
{% endschema %}

<section class="featured-collection">
  <div class="container">
    <h2>Tisso vision in the wild</h2>
    <div class="grid">
      {% for product in collections['all'].products limit:6 %}
         <div class="product" onclick="openModal('{{ product.featured_image | img_url }}', '{{ product.title }}', '{{ product.price }}')">
          <img src="{{ product.featured_image | img_url }}" alt="{{ product.title }}">
      {% endfor %}
    </div>
  </div>
</section>

<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modalImage" src="" alt="">
    <h2 id="modalTitle"></h2>
    <p id="modalPrice"></p>
    <label>Color:</label>
    <button class="color-option">Blue</button>
    <button class="color-option">Black</button>
    <br>
    <label>Size:</label>
    <select>
      <option>Choose your size</option>
      <option>S</option>
      <option>M</option>
      <option>L</option>
      <option>XL</option>
    </select>
    <button class="add-to-cart">ADD TO CART â†’</button>
  </div>
</div>

{% style %}

.featured-collection {
  padding: 50px 0;
  text-align: center;
}

.container h2 {
  text-align: start;
  margin-left: 20px;
  font-weight: normal;
}

/* Fixing Uneven Gaps */
.grid {
  margin: 20px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);  
  column-gap: 15px;  
  row-gap: 10px;  
}

/* Fixing Image Stretching */

.product img {
  max-width: 100%;  
  height: 440px;  
  object-fit: cover;
  border-radius: 5px;
  cursor : pointer;
}
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background: white;
  padding: 20px;
  width: 300px;
  margin: 10% auto;
  text-align: center;
  border-radius: 8px;
}

.close {
  position: absolute;
  right: 15px;
  font-size: 20px;
  cursor: pointer;
}

.color-option, .add-to-cart {
  margin-top: 10px;
  padding: 10px 15px;
  cursor: pointer;
}
{% endstyle %}

<script>
function openModal(image, title, price) {
  document.getElementById("modalImage").src = image;
  document.getElementById("modalTitle").textContent = title;
  document.getElementById("modalPrice").textContent = price;
  document.getElementById("productModal").style.display = "block";
}

function closeModal() {
  document.getElementById("productModal").style.display = "none";
}
</script>

